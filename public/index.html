<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>stneLogParser test page</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script defer src="main.js" type="module"></script>
    <script>
      import("./demonstration.js").then(d => d.default());
    </script>
  </head>
  <body>
    <div class="container">
        <header>
          <h1>STNE Library Parser Test Page</h1>
          <nav>
            <ul>
              <li><a href="#parser">Log-Parser</a></li>
              <li><a href="#line-types">Log Line Types</a></li>
            </ul>
          </nav>
        </header>

        <section id="parser">
          <h2>Log Parser</h2>
          <div class="log-parser-container">
            <div contenteditable="plaintext-only" spellcheck="false" class="log-entry"></div>
          </div>
          <details id="log-statistics">
            <summary>Statistics</summary>
              <div>                
                <div class="stat-category">
                  <h3>Parsing Statistics</h3>
                  <div class="stat-grid compact">
                    <div class="stat-item">
                      <div class="stat-value stat-num" data-stats-key="parsedLogLines"></div>
                      <div class="stat-label">Successfully Parsed Log Lines</div>
                    </div>
                    <div class="stat-item">
                      <div class="stat-value stat-num" data-stats-key="unparsedLogLines"></div>
                      <div class="stat-label">Unknown Log Lines</div>
                    </div>
                    <div class="stat-item">
                      <div class="stat-value stat-num" data-stats-key="totalLogLines"></div>
                      <div class="stat-label">Total Log Lines</div>
                    </div>
                    <div class="stat-item">
                      <div class="stat-value stat-num" data-stats-key="totalLogEntries"></div>
                      <div class="stat-label">Total Log Entries</div>
                    </div>
                  </div>
                </div>
                <div class="stat-category">
                  <h3>Ships</h3>
                  <table id="stats-mentioned-ships-table" data-row-template="#stats-mentioned-ships-table-row-template">
                    <thead>
                      <tr>
                        <th data-sortable="true">Ship</th>
                        <th data-sortable="true">Owner</th>
                        <th data-sortable="true">Damage Dealt</th>
                        <th data-sortable="true">Damage Taken</th>
                        <th data-sortable="true">Hit Rate</th>
                        <th data-sortable="true">Dodge Rate</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td colspan="0">No ships were mentioned in the log.</td>
                      </tr>
                    </tbody>
                  </table>
                  <template id="stats-mentioned-ships-table-row-template">
                    <tr>
                      <td data-key="ship"></td>
                      <td data-key="owner"></td>
                      <td data-key="damageDealt"></td>
                      <td data-key="damageTaken"></td>
                      <td data-key="hitRate"></td>
                      <td data-key="dodgeRate"></td>
                    </tr>
                  </template>
                </div>
              </div>
          </details>
        </section>

        <section id="line-types">
          <h2>Implemented Log Line Types</h2>
          <table id="log-line-type-overview" data-checked-languages="[&quot;de&quot;,&quot;en&quot;,&quot;es&quot;]">
            <thead>
              <tr>
                <th>Type</th>
                <th>de</th>
                <th>en</th>
                <th>es</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td colspan="0">Loading...</td>
              </tr>
            </tbody>
            <tfoot>
              <tr>
                <td>Total</td>
                <td>
                  <span class="lang-log-line-total" data-lang="de">0</span>/<span class="log-line-total">0</span>
                </td>
                <td>
                  <span class="lang-log-line-total" data-lang="en">0</span>/<span class="log-line-total">0</span>
                </td>
                <td>
                  <span class="lang-log-line-total" data-lang="es">0</span>/<span class="log-line-total">0</span>
                </td>
              </tr>
            </tfoot>
          </table>
        </section>
    </div>
  </body>
</html>
